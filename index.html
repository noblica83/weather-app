<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome-1">
  <link href="/style.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Christmas counte."/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia">
  <link href='https://fonts.googleapis.com/css?family=Mountains of Christmas' rel='stylesheet'>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
  <link
rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  
<body>
    <h1>Weather app with JS</h1>
    <div class="weather-card">
      <div class="location">
     <input class="input" type="text" placeholder="type a city">
    <button class="submit">Search</button>
  </div>
    <div class="city_name"></div>
    <div class="temperature"></div>
    <div class="humidity"></div>
    <div class="weather"></div>
    <div class="icon" src = "" alt = "Weather icon"> 
 </div>
</div>

</div>

<script>
    
var input = document.querySelector(".input");
var city  = document.querySelector(".city_name");
var temperature = document.querySelector(".temperature");
var humidity = document.querySelector(".humidity");
var weather = document.querySelector(".weather"); 
var button = document.querySelector(".submit");
var icon = document.querySelector(".icon")

   button.addEventListener ('click', function(name){
    fetch ('https://api.openweathermap.org/data/2.5/weather?q='+input.value+'&appid=eac9419af01c39ae28b094a1e74700af')
    .then (response => response.json())
    .then (data => {
      var tempValue = data['main']['temp'];
      var cityValue = data['name'];
      var weatherValue = data ['weather']['0']['description'];
      var humidityValue = data['main']['humidity'];
      var icon1 = data.weather[0].icon;
      const kel = 273;
  
      city.innerHTML = cityValue;
      weather.innerHTML = "Weather: "+ weatherValue;
      temperature.innerHTML =  Math.floor(data.main.temp - kel) + "Â°C";  
      icon.innerHTML = `<img src="https://openweathermap.org/img/w/${icon1}.png">`;
      humidity.innerHTML = "Humidity: "+ humidityValue + "%";            
    })
      .catch (err => alert("wrong city name!"));
    })
   
</script>

</body>